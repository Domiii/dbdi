(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["dbdi"] = factory();
	else
		root["dbdi"] = factory();
})(window, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// install a JSONP callback for chunk loading
/******/ 	function webpackJsonpCallback(data) {
/******/ 		var chunkIds = data[0];
/******/ 		var moreModules = data[1];
/******/ 		var executeModules = data[2];
/******/
/******/ 		// add "moreModules" to the modules object,
/******/ 		// then flag all "chunkIds" as loaded and fire callback
/******/ 		var moduleId, chunkId, i = 0, resolves = [];
/******/ 		for(;i < chunkIds.length; i++) {
/******/ 			chunkId = chunkIds[i];
/******/ 			if(installedChunks[chunkId]) {
/******/ 				resolves.push(installedChunks[chunkId][0]);
/******/ 			}
/******/ 			installedChunks[chunkId] = 0;
/******/ 		}
/******/ 		for(moduleId in moreModules) {
/******/ 			if(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {
/******/ 				modules[moduleId] = moreModules[moduleId];
/******/ 			}
/******/ 		}
/******/ 		if(parentJsonpFunction) parentJsonpFunction(data);
/******/
/******/ 		while(resolves.length) {
/******/ 			resolves.shift()();
/******/ 		}
/******/
/******/ 		// add entry modules from loaded chunk to deferred list
/******/ 		deferredModules.push.apply(deferredModules, executeModules || []);
/******/
/******/ 		// run deferred modules when all chunks ready
/******/ 		return checkDeferredModules();
/******/ 	};
/******/ 	function checkDeferredModules() {
/******/ 		var result;
/******/ 		for(var i = 0; i < deferredModules.length; i++) {
/******/ 			var deferredModule = deferredModules[i];
/******/ 			var fulfilled = true;
/******/ 			for(var j = 1; j < deferredModule.length; j++) {
/******/ 				var depId = deferredModule[j];
/******/ 				if(installedChunks[depId] !== 0) fulfilled = false;
/******/ 			}
/******/ 			if(fulfilled) {
/******/ 				deferredModules.splice(i--, 1);
/******/ 				result = __webpack_require__(__webpack_require__.s = deferredModule[0]);
/******/ 			}
/******/ 		}
/******/ 		return result;
/******/ 	}
/******/
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// object to store loaded and loading chunks
/******/ 	// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 	// Promise = chunk loading, 0 = chunk loaded
/******/ 	var installedChunks = {
/******/ 		"react": 0
/******/ 	};
/******/
/******/ 	var deferredModules = [];
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/dist";
/******/
/******/ 	var jsonpArray = window["webpackJsonpdbdi"] = window["webpackJsonpdbdi"] || [];
/******/ 	var oldJsonpFunction = jsonpArray.push.bind(jsonpArray);
/******/ 	jsonpArray.push = webpackJsonpCallback;
/******/ 	jsonpArray = jsonpArray.slice();
/******/ 	for(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);
/******/ 	var parentJsonpFunction = oldJsonpFunction;
/******/
/******/
/******/ 	// add entry module to deferred list
/******/ 	deferredModules.push([3,"vendor","common"]);
/******/ 	// run deferred modules when ready
/******/ 	return checkDeferredModules();
/******/ })
/************************************************************************/
/******/ ({

/***/ "./react/DataSourceProvider.js":
/*!*************************************!*\
  !*** ./react/DataSourceProvider.js ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return DataSourceProvider; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"../node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_dbdi_react_internals__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./lib/dbdi-react-internals */ \"./react/lib/dbdi-react-internals.js\");\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n //let _lastWrapperId = 0;\n\nvar _errorState = null;\n\nvar ErrorBoundary =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ErrorBoundary, _React$Component);\n\n  function ErrorBoundary(props) {\n    var _this;\n\n    _classCallCheck(this, ErrorBoundary);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ErrorBoundary).call(this, props));\n    _this.state = {\n      hasError: false\n    };\n    return _this;\n  }\n\n  _createClass(ErrorBoundary, [{\n    key: \"componentDidCatch\",\n    value: function componentDidCatch(err, info) {\n      // Display fallback UI\n      this.setState({\n        hasError: true\n      }); // You can also log the error to an error reporting service\n      //const { wrapperId } = this.props;\n\n      if (!_errorState) {\n        console.error('[Component render ERROR]', info, '\\n ', err.stack);\n        _errorState = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"pre\", {\n          style: {\n            color: 'red'\n          }\n        }, \"[Component render ERROR] \", err.stack);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.state.hasError) {\n        // You can render any custom fallback UI\n        //const { wrapperId } = this.props;\n        return _errorState;\n      }\n\n      return react__WEBPACK_IMPORTED_MODULE_0__[\"Children\"].only(this.props.children);\n    }\n  }]);\n\n  return ErrorBoundary;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);\n/**\n * provide all configured DataSources + providers to all children\n */\n\n\n_defineProperty(ErrorBoundary, \"propTypes\", {\n  //wrapperId: PropTypes.number.isRequired,\n  children: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object.isRequired\n});\n\nvar DataSourceProvider =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(DataSourceProvider, _Component);\n\n  function DataSourceProvider(props, context) {\n    _classCallCheck(this, DataSourceProvider);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(DataSourceProvider).call(this, props, context));\n  }\n\n  _createClass(DataSourceProvider, [{\n    key: \"getChildContext\",\n    value: function getChildContext() {\n      var dataSourceTree = this.props.dataSourceTree;\n      return Object(_lib_dbdi_react_internals__WEBPACK_IMPORTED_MODULE_2__[\"buildReactContextFromDataSourceTree\"])(dataSourceTree, this.context);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var children = this.props.children;\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ErrorBoundary, null, react__WEBPACK_IMPORTED_MODULE_0__[\"Children\"].only(children));\n    }\n  }]);\n\n  return DataSourceProvider;\n}(react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"]);\n\n_defineProperty(DataSourceProvider, \"childContextTypes\", _lib_dbdi_react_internals__WEBPACK_IMPORTED_MODULE_2__[\"dataBindChildContextStructure\"]);\n\n_defineProperty(DataSourceProvider, \"propTypes\", {\n  dataSourceTree: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object.isRequired,\n  children: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object.isRequired\n});\n\n\n\n//# sourceURL=webpack://dbdi/./react/DataSourceProvider.js?");

/***/ }),

/***/ "./react/components.js":
/*!*****************************!*\
  !*** ./react/components.js ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("// import isObject from 'lodash/isObject';\n// import some from 'lodash/some';\n// import { EmptyObject, EmptyArray } from 'src/util';\n// import React, { Component, Children } from 'react';\n// import PropTypes from 'prop-types';\n// import LoadIndicator from 'src/views/components/util/LoadIndicator';\n// import { \n//   dataBindContextStructure,\n//   getDataSourceFromReactContext\n// } from './lib/dbdi-react-internals';\n// // TODO: fix these?!\n// export function DataBind({ name, loading, args }, context) {\n//   const accessWrapper = getDataSourceFromReactContext(context);\n//   console.log('DataBind.render: ' + name);\n//   if (!accessWrapper || !accessWrapper.isDataLoaded(name, args)) {\n//     const LoadIndicator = loading;\n//     accessWrapper && accessWrapper.listenToPath(name, args);\n//     return (<LoadIndicator />);\n//   }\n//   let val = accessWrapper.dataProxy[name];\n//   if (isObject(val)) {\n//     val = JSON.stringify(val, null, 2);\n//   }\n//   return (<span>{val}</span>);\n// }\n// DataBind.propTypes = {\n//   name: PropTypes.string.isRequired,\n//   args: PropTypes.object,\n//   loading: PropTypes.func\n// };\n// DataBind.contextTypes = dataBindContextStructure;\n// export function Loading({ name, names, component, ...args }, context) {\n//   names = names || (name && [name]) || EmptyArray;\n//   const accessWrapper = getDataSourceFromReactContext(context);\n//   const isLoading = some(names, name => accessWrapper.isDataLoaded(name));\n//   const Component = component || LoadIndicator;\n//   if (isLoading) {\n//     return (<Component {...args} />);\n//   }\n//   else {\n//     return (<span />); // empty element\n//   }\n// }\n// Loading.propTypes = {\n//   name: PropTypes.string,\n//   names: PropTypes.array,\n//   component: PropTypes.func\n// };\n// Loading.contextTypes = dataBindContextStructure;\n// export function Loaded({ name, names, component, ...args }, context) {\n//   names = names || (name && [name]) || EmptyArray;\n//   const accessWrapper = getDataSourceFromReactContext(context);\n//   const isLoading = some(names, name => accessWrapper.isDataLoaded(name));\n//   const Component = component;\n//   if (!isLoading) {\n//     return (<Component {...args} />);\n//   }\n//   else {\n//     return (<span />); // empty element\n//   }\n// }\n// Loaded.propTypes = {\n//   name: PropTypes.string,\n//   names: PropTypes.array,\n//   component: PropTypes.func.isRequired\n// };\n// Loaded.contextTypes = dataBindContextStructure;\n// export function IfDataLoaded({ name, args, loading, loaded, loadingArgs, loadedArgs }, context) {\n//   const dataAccess = getDataSourceFromReactContext(context);\n//   if (!dataAccess || !dataAccess.isDataLoaded(name, args)) {\n//     const Loading = loading;\n//     return <Loading {...loadingArgs} />;\n//   }\n//   const Loaded = loaded;\n//   return <Loaded {...loadedArgs} />;\n// }\n// IfDataLoaded.propTypes = {\n//   name: PropTypes.string.isRequired,\n//   args: PropTypes.object,\n//   loading: PropTypes.func,\n//   loaded: PropTypes.func,\n//   loadingArgs: PropTypes.object,\n//   loadedArgs: PropTypes.object\n// };\n// IfDataLoaded.contextTypes = dataBindContextStructure;\n\n//# sourceURL=webpack://dbdi/./react/components.js?");

/***/ }),

/***/ "./react/dataBind.js":
/*!***************************!*\
  !*** ./react/dataBind.js ***!
  \***************************/
/*! exports provided: NOT_LOADED, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _DataAccessTracker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../DataAccessTracker */ \"./DataAccessTracker.js\");\n/* harmony import */ var _ProxyUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ProxyUtil */ \"./ProxyUtil.js\");\n/* harmony import */ var lodash_partialRight__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/partialRight */ \"../node_modules/lodash/partialRight.js\");\n/* harmony import */ var lodash_partialRight__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_partialRight__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var lodash_map__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/map */ \"../node_modules/lodash/map.js\");\n/* harmony import */ var lodash_map__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_map__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var lodash_mapValues__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash/mapValues */ \"../node_modules/lodash/mapValues.js\");\n/* harmony import */ var lodash_mapValues__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_mapValues__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var lodash_merge__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash/merge */ \"../node_modules/lodash/merge.js\");\n/* harmony import */ var lodash_merge__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash_merge__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var lodash_isFunction__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash/isFunction */ \"../node_modules/lodash/isFunction.js\");\n/* harmony import */ var lodash_isFunction__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(lodash_isFunction__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var lodash_isPlainObject__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lodash/isPlainObject */ \"../node_modules/lodash/isPlainObject.js\");\n/* harmony import */ var lodash_isPlainObject__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(lodash_isPlainObject__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var lodash_isEmpty__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lodash/isEmpty */ \"../node_modules/lodash/isEmpty.js\");\n/* harmony import */ var lodash_isEmpty__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(lodash_isEmpty__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var lodash_isString__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lodash/isString */ \"../node_modules/lodash/isString.js\");\n/* harmony import */ var lodash_isString__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(lodash_isString__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var lodash_toString__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lodash/toString */ \"../node_modules/lodash/toString.js\");\n/* harmony import */ var lodash_toString__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(lodash_toString__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var lodash_fp_groupBy__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lodash/fp/groupBy */ \"../node_modules/lodash/fp/groupBy.js\");\n/* harmony import */ var lodash_fp_groupBy__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(lodash_fp_groupBy__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var lodash_fp_map__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lodash/fp/map */ \"../node_modules/lodash/fp/map.js\");\n/* harmony import */ var lodash_fp_map__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(lodash_fp_map__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var lodash_fp_mapValues__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lodash/fp/mapValues */ \"../node_modules/lodash/fp/mapValues.js\");\n/* harmony import */ var lodash_fp_mapValues__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(lodash_fp_mapValues__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var lodash_fp_toPairs__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! lodash/fp/toPairs */ \"../node_modules/lodash/fp/toPairs.js\");\n/* harmony import */ var lodash_fp_toPairs__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(lodash_fp_toPairs__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var lodash_fp_zipObject__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! lodash/fp/zipObject */ \"../node_modules/lodash/fp/zipObject.js\");\n/* harmony import */ var lodash_fp_zipObject__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(lodash_fp_zipObject__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var lodash_fp_flow__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! lodash/fp/flow */ \"../node_modules/lodash/fp/flow.js\");\n/* harmony import */ var lodash_fp_flow__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(lodash_fp_flow__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var src_util__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! src/util */ \"./util/index.js\");\n/* harmony import */ var src_util_auto_bind__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! src/util/auto-bind */ \"./util/auto-bind.js\");\n/* harmony import */ var src_util_auto_bind__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(src_util_auto_bind__WEBPACK_IMPORTED_MODULE_18__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! react */ \"../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_19__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! prop-types */ \"../node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_20__);\n/* harmony import */ var _lib_dbdi_react_internals__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./lib/dbdi-react-internals */ \"./react/lib/dbdi-react-internals.js\");\n/* harmony import */ var _dataProviders_DataProviderBase__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../dataProviders/DataProviderBase */ \"./dataProviders/DataProviderBase.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"NOT_LOADED\", function() { return _dataProviders_DataProviderBase__WEBPACK_IMPORTED_MODULE_22__[\"NOT_LOADED\"]; });\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n //import { injectRenderArgs } from './react-util';\n\n // class ReactContextDataProvider extends DataProviderBase {\n//   // TODO: a data provider to read/write the local React context without it's usual shortcomings\n//   // TODO: proper pub-sub bindings\n// }\n\n/**\n * Build + wrap render method of component class\n */\n\nfunction initStatefulComponent(Comp, injectedArgs) {\n  var origRender = Comp.prototype.render;\n\n  Comp.prototype.render = function render_dataBind() {\n    for (var _len = arguments.length, origArgs = new Array(_len), _key = 0; _key < _len; _key++) {\n      origArgs[_key] = arguments[_key];\n    }\n\n    // NOTE: render does not have arguments, but some other wrapper might have injected `origArgs`, so we just add them into the circus\n    //console.log('wrapped render: ' + props.name + `(${JSON.stringify(origArgs)}) → (${JSON.stringify(newArgs)})`);\n    return origRender.call.apply(origRender, [this].concat(_toConsumableArray(injectedArgs), origArgs));\n  };\n\n  return function render() {\n    var WrappedComponent = this.WrappedComponent;\n    return react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(WrappedComponent, _extends({}, this.props, this._customProps, this._customFunctions));\n  };\n}\n/**\n * Build + wrap render method of functional component\n */\n\n\nfunction initFunctionalComponent(Comp, injectedArgs) {\n  function Wrapper() {\n    for (var _len2 = arguments.length, origArgs = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      origArgs[_key2] = arguments[_key2];\n    }\n\n    // NOTE: origArgs should be [props, context] in React 16\n    //console.log('wrapped render: ' + `(${JSON.stringify(origArgs)}), (${JSON.stringify(injectedArgs)})`);\n    return Comp.call.apply(Comp, [this].concat(_toConsumableArray(injectedArgs), origArgs));\n  }\n\n  Object.defineProperty(Wrapper, 'name', {\n    value: Comp.name + '_dataBind'\n  });\n  return Wrapper;\n}\n/**\n * dataBind\n */\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (propsOrPropCb) {\n  return function (_WrappedComponent) {\n    var DataBindComponent =\n    /*#__PURE__*/\n    function (_Component) {\n      _inherits(DataBindComponent, _Component);\n\n      /**\n       * The dataProxy first checks for props, then for context, and if nothing is provided,\n       * it executes any pre-configured dataRead node of given name and returns their value.\n       * When data is attempted to be read, its path is added as a dependency, \n       * and loading initialized if it has not initialized before.\n       */\n\n      /**\n       * Provides read and write executer functions, as well as special functions as defined in\n       * below _buildFunctionProxy.\n       */\n      // more data injection stuff\n      // bookkeeping ((currently) mostly unused)\n      function DataBindComponent(props, context) {\n        var _this;\n\n        _classCallCheck(this, DataBindComponent);\n\n        _this = _possibleConstructorReturn(this, _getPrototypeOf(DataBindComponent).call(this, props, context));\n\n        _defineProperty(_assertThisInitialized(_this), \"_dataSourceTree\", void 0);\n\n        _defineProperty(_assertThisInitialized(_this), \"_dataAccessTracker\", void 0);\n\n        _defineProperty(_assertThisInitialized(_this), \"_variableProxy\", void 0);\n\n        _defineProperty(_assertThisInitialized(_this), \"_functionProxy\", void 0);\n\n        _defineProperty(_assertThisInitialized(_this), \"_customContext\", void 0);\n\n        _defineProperty(_assertThisInitialized(_this), \"_customProps\", {});\n\n        _defineProperty(_assertThisInitialized(_this), \"_customFunctions\", {});\n\n        _defineProperty(_assertThisInitialized(_this), \"_isMounted\", void 0);\n\n        _defineProperty(_assertThisInitialized(_this), \"_alreadyRefreshing\", void 0);\n\n        _defineProperty(_assertThisInitialized(_this), \"_wrapCustomFunctionsAndData\", lodash_fp_flow__WEBPACK_IMPORTED_MODULE_16___default()(lodash_fp_toPairs__WEBPACK_IMPORTED_MODULE_14___default.a, lodash_fp_groupBy__WEBPACK_IMPORTED_MODULE_11___default()(function (item) {\n          return lodash_isFunction__WEBPACK_IMPORTED_MODULE_6___default()(item[1]) ? 'functions' : 'data';\n        }), lodash_fp_mapValues__WEBPACK_IMPORTED_MODULE_13___default()(function (items) {\n          return lodash_fp_zipObject__WEBPACK_IMPORTED_MODULE_15___default()(lodash_fp_map__WEBPACK_IMPORTED_MODULE_12___default()(function (item) {\n            return item[0];\n          })(items))(lodash_fp_map__WEBPACK_IMPORTED_MODULE_12___default()(function (item) {\n            return item[1];\n          })(items));\n        }), function (items) {\n          return {\n            data: lodash_mapValues__WEBPACK_IMPORTED_MODULE_4___default()(items.data, _this._wrapCustomData),\n            functions: lodash_mapValues__WEBPACK_IMPORTED_MODULE_4___default()(items.functions, _this._wrapCustomFunctions)\n          };\n        }));\n\n        src_util_auto_bind__WEBPACK_IMPORTED_MODULE_18___default()(_assertThisInitialized(_this));\n        _this._isMounted = false; // prepare access tracker\n\n        _this._dataSourceTree = Object(_lib_dbdi_react_internals__WEBPACK_IMPORTED_MODULE_21__[\"getDataSourceTreeFromReactContext\"])(context);\n        _this._dataAccessTracker = _this._dataSourceTree.newAccessTracker(_WrappedComponent.name || '<unnamed component>', _this._onNewData); // get context data\n\n        _this._customContext = Object.assign({}, Object(_lib_dbdi_react_internals__WEBPACK_IMPORTED_MODULE_21__[\"getCustomContextFromReactContext\"])(context) || {}); // prepare all the stuff\n\n        _this._buildCustomFunctions();\n\n        _this._buildVariableProxy();\n\n        _this._buildFunctionProxy(); // finally, engulf the new component with our custom arguments\n\n\n        _this._injectedArguments = [_this._variableProxy, _this._functionProxy, // Note: the inject proxy only injects from confirmed readers.\n        //  Custom funcs cannot currently be used for injection.\n        _this._dataAccessTracker._injectProxy]; // const Wrapper = (...allArgs) => {\n        //   const props = allArgs[allArgs.length-3];\n        //   console.log(allArgs.length, ...allArgs);\n        //   return (<WrappedComponent {...props} />);\n        // };\n        // // TODO: we can merge injection into the render() call below!?!?\n        // this.WrappedComponent = injectRenderArgs(\n        //   WrappedComponent,\n        //   this._injectedArguments\n        // );\n        // there is no good working heuristic to figure out if it's a function representing a component :(\n\n        var isStatefulComponent = _WrappedComponent && _WrappedComponent.prototype instanceof react__WEBPACK_IMPORTED_MODULE_19__[\"Component\"];\n        var isComponentFunction = _this.isFunctionalComponent = lodash_isFunction__WEBPACK_IMPORTED_MODULE_6___default()(_WrappedComponent);\n\n        if (!isComponentFunction && !isStatefulComponent) {\n          throw new Error('Tried to decorate object that is neither pure function nor component: ' + _WrappedComponent);\n        } // decorate the component\n\n\n        var render;\n\n        if (isStatefulComponent) {\n          // create new class for every instance of this component\n          var __WrappedComponent =\n          /*#__PURE__*/\n          function (_WrappedComponent2) {\n            _inherits(__WrappedComponent, _WrappedComponent2);\n\n            function __WrappedComponent() {\n              _classCallCheck(this, __WrappedComponent);\n\n              return _possibleConstructorReturn(this, _getPrototypeOf(__WrappedComponent).apply(this, arguments));\n            }\n\n            return __WrappedComponent;\n          }(_WrappedComponent);\n\n          ;\n          Object.defineProperty(__WrappedComponent, 'name', {\n            value: _WrappedComponent.name + '_dataBind'\n          });\n          _this.WrappedComponent = __WrappedComponent; // inject custom methods into stateful component\n\n          Object.assign(_this.WrappedComponent.prototype, _this._buildCustomMethods());\n          render = initStatefulComponent(_this.WrappedComponent, _this._injectedArguments);\n        } else {\n          _this.WrappedComponent = _WrappedComponent;\n          render = initFunctionalComponent(_this.WrappedComponent, _this._injectedArguments);\n        }\n\n        _this.render = render;\n        return _this;\n      } // ################################################\n      // Initialization\n      // ################################################\n\n      /**\n       * These methods are added to the prototype of the wrapped component\n       */\n\n\n      _createClass(DataBindComponent, [{\n        key: \"_buildCustomMethods\",\n        value: function _buildCustomMethods() {\n          var _injectedArguments = this._injectedArguments;\n          return {\n            dataBindMethod: function dataBindMethod(methodOrName) {\n              if (!methodOrName) {\n                throw new Error('invalid argument in dataBindMethod: null or undefined');\n              }\n\n              var methodName = lodash_isString__WEBPACK_IMPORTED_MODULE_9___default()(methodOrName) ? methodOrName : methodOrName.name;\n\n              if (!methodName || !lodash_isFunction__WEBPACK_IMPORTED_MODULE_6___default()(this[methodName])) {\n                throw new Error('Could not resolve method when adding data bindings: ' + methodOrName + ' - ' + methodName + ' - ' + this[methodName]);\n              } //const origMethod = this[methodName];\n              // hack: we must override the prototype because else react-autobind won't catch it\n              // NOTE: it's oke because we created a new class in constructor anyway\n              //    (injectRenderArgs returns a new class)\n              //const proto = Object.getPrototypeOf(this);\n\n\n              return this[methodName] = lodash_partialRight__WEBPACK_IMPORTED_MODULE_2___default.a.apply(void 0, [this[methodName]].concat(_toConsumableArray(_injectedArguments))); // (...ownArgs) => {\n              //   return origMethod(...ownArgs, ..._injectedArguments);\n              // };\n            },\n            dataBindMethods: function dataBindMethods() {\n              var _this2 = this;\n\n              for (var _len3 = arguments.length, methodOrNames = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n                methodOrNames[_key3] = arguments[_key3];\n              }\n\n              return lodash_map__WEBPACK_IMPORTED_MODULE_3___default()(methodOrNames, function (methodOrName, i) {\n                if (!methodOrName) {\n                  throw new Error(\"invalid argument #\".concat(i, \" in dataBindMethod(s): null or undefined\"));\n                }\n\n                return _this2.dataBindMethod(methodOrName);\n              });\n            }\n          };\n        }\n        /**\n         * Set of custom functions/special functions that serve as utility\n         * to better integrate the data model with React.\n         */\n\n      }, {\n        key: \"_buildCustomFunctions\",\n        value: function _buildCustomFunctions() {\n          var _this3 = this;\n\n          this._customFunctions = {\n            /**\n             * Add context contents.\n             * \n             * TODO: This is really bad. \n             *    Need to provide a pub-sub solution using a custom DataProvider instead.\n             */\n            setContext: function setContext(newContext) {\n              Object.assign(_this3._customContext, newContext);\n              throw new Error('This is not properly supported yet, since shouldComponentUpdate does not account for context yet');\n            },\n            getProps: function getProps() {\n              return _this3.props;\n            }\n          };\n        }\n        /**\n         * Build the proxy to deliver props, context and custom data.\n         */\n\n      }, {\n        key: \"_buildVariableProxy\",\n        value: function _buildVariableProxy() {\n          var _this4 = this;\n\n          // TODO: make this spreadable!\n          // TODO: implement ownKeys (and possibly enumerate) in handler\n          // see: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy\n          var enumerableProps = function enumerableProps() {\n            //return Object.assign({}, Object.keys(this.props || EmptyObject), Object.keys(this._customProps || EmptyObject));\n            return [].concat(_toConsumableArray(Object.keys(_this4.props || src_util__WEBPACK_IMPORTED_MODULE_17__[\"EmptyObject\"])), _toConsumableArray(Object.keys(_this4._customProps || src_util__WEBPACK_IMPORTED_MODULE_17__[\"EmptyObject\"])));\n          };\n\n          var defaultPropDesc = {\n            enumerable: true,\n            configurable: true\n          };\n\n          var specialProps = _defineProperty({}, Symbol.iterator, function (target) {\n            var p1 = _this4.props;\n            var p2 = _this4._customProps;\n            return (\n              /*#__PURE__*/\n              regeneratorRuntime.mark(function _callee() {\n                var p, _p;\n\n                return regeneratorRuntime.wrap(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        _context.t0 = regeneratorRuntime.keys(p1);\n\n                      case 1:\n                        if ((_context.t1 = _context.t0()).done) {\n                          _context.next = 7;\n                          break;\n                        }\n\n                        p = _context.t1.value;\n                        _context.next = 5;\n                        return p1[p];\n\n                      case 5:\n                        _context.next = 1;\n                        break;\n\n                      case 7:\n                        _context.t2 = regeneratorRuntime.keys(p2);\n\n                      case 8:\n                        if ((_context.t3 = _context.t2()).done) {\n                          _context.next = 14;\n                          break;\n                        }\n\n                        _p = _context.t3.value;\n                        _context.next = 12;\n                        return p2[_p];\n\n                      case 12:\n                        _context.next = 8;\n                        break;\n\n                      case 14:\n                      case \"end\":\n                        return _context.stop();\n                    }\n                  }\n                }, _callee, this);\n              })\n            );\n          });\n\n          this._variableProxy = new Proxy({}, {\n            get: function get(target, name) {\n              // 0) check special stuff\n              if (specialProps[name]) {\n                return specialProps[name](target);\n              } // 1) check custom data\n\n\n              if (name in _this4._customProps) {\n                return _this4._customProps[name];\n              } // 2) check props\n\n\n              if (name in _this4.props) {\n                return _this4.props[name];\n              } // // 3) check context\n              // if (name in this.context) {\n              //   return this.context[name];\n              // }\n              // // 4) check custom context\n              // if (name in this._customContext) {\n              //   //console.warn('get from customContext: ' + name);\n              //   return this._customContext[name];\n              // }\n              // 5) check special properties\n\n\n              if (name in _ProxyUtil__WEBPACK_IMPORTED_MODULE_1__[\"sharedArgumentProxyProperties\"]) {\n                return _ProxyUtil__WEBPACK_IMPORTED_MODULE_1__[\"sharedArgumentProxyProperties\"][name];\n              } // TODO: move this somewhere else or get rid of it entirely\n              // // 4) check for direct data inject\n              // const readData = this._dataAccessTracker.resolveReadData(name);\n              // if (readData) {\n              //   return readData();\n              // }\n              //if (this._isMounted) \n\n\n              {\n                //console.error(\n                debugger;\n                throw new Error(\"DI failed - Component requested props/context \\\"\".concat(lodash_toString__WEBPACK_IMPORTED_MODULE_10___default()(name), \"\\\" but was not provided\")); //.stack);\n              }\n              return undefined;\n            },\n            has: function has(target, name) {\n              // 1) check custom data\n              if (name in _this4._customProps) {\n                return true;\n              } // 2) check props\n\n\n              if (name in _this4.props) {\n                return true;\n              } // // 3) check context\n              // if (name in this.context) {\n              //   return true;\n              // }\n              // // 4) check custom context\n              // if (name in this._customContext) {\n              //   return true;\n              // }\n              // 5) check special properties\n\n\n              if (name in _ProxyUtil__WEBPACK_IMPORTED_MODULE_1__[\"sharedArgumentProxyProperties\"]) {\n                return true;\n              }\n\n              return false;\n            },\n            enumerate: function enumerate(target) {\n              return enumerableProps();\n            },\n            getOwnPropertyDescriptor: function getOwnPropertyDescriptor() {\n              return defaultPropDesc;\n            },\n            ownKeys: function ownKeys(target) {\n              return enumerableProps();\n            }\n          });\n        }\n        /**\n         * Build the proxy to inject actions + selections\n         */\n\n      }, {\n        key: \"_buildFunctionProxy\",\n        value: function _buildFunctionProxy() {\n          var _this5 = this;\n\n          this._functionProxy = new Proxy({}, {\n            get: function get(target, name) {\n              // 1) check custom actions\n              var customFunction = _this5._customFunctions[name];\n\n              if (customFunction) {\n                return customFunction;\n              } // 2) check readers\n\n\n              var readData = _this5._dataAccessTracker.resolveReadData(name);\n\n              if (readData) {\n                return readData;\n              } // 3) check writers\n\n\n              var writeData = _this5._dataAccessTracker.resolveWriteData(name);\n\n              if (writeData) {\n                return writeData;\n              } //if (this._isMounted) \n\n\n              {\n                //console.error(\n                throw new Error(\"DI failed - Component requested function \\\"\".concat(lodash_toString__WEBPACK_IMPORTED_MODULE_10___default()(name), \"\\\" but was not provided.\")); //.stack);\n              }\n              return null;\n            },\n            has: function has(target, name) {\n              // 1) check custom actions\n              var customFunction = _this5._customFunctions[name];\n\n              if (customFunction) {\n                return true;\n              } // 2) check readers\n\n\n              var readData = _this5._dataAccessTracker.resolveReadData(name);\n\n              if (readData) {\n                return true;\n              } // 3) check writers\n\n\n              var writeData = _this5._dataAccessTracker.resolveWriteData(name);\n\n              if (writeData) {\n                return true;\n              }\n\n              return false;\n            },\n            enumerate: function enumerate() {\n              throw new Error('[NYI] cannot enumerate \"Function\" proxy (yet)');\n            },\n            ownKeys: function ownKeys() {\n              throw new Error('[NYI] cannot enumerate \"Function\" proxy (yet)');\n            }\n          });\n        }\n      }, {\n        key: \"_wrapCustomData\",\n        value: function _wrapCustomData(data) {\n          return data;\n        }\n      }, {\n        key: \"_wrapCustomFunctions\",\n        value: function _wrapCustomFunctions(f) {\n          // inject proxies as initial arguments\n          return lodash_partialRight__WEBPACK_IMPORTED_MODULE_2___default.a.apply(void 0, [f].concat(_toConsumableArray(this._injectedArguments)));\n        }\n      }, {\n        key: \"_prepareInjectedProps\",\n        value: function _prepareInjectedProps() {\n          // TODO: use caching, so we don't create new wrapper objects every time\n          if (propsOrPropCb) {\n            // prepare _customProps object\n            var props = propsOrPropCb;\n\n            if (lodash_isFunction__WEBPACK_IMPORTED_MODULE_6___default()(propsOrPropCb)) {\n              props = propsOrPropCb.apply(void 0, _toConsumableArray(this._injectedArguments));\n            } else if (!lodash_isEmpty__WEBPACK_IMPORTED_MODULE_8___default()(this._customProps)) {\n              // already done, don't do it again!\n              return;\n            }\n\n            if (props && !lodash_isPlainObject__WEBPACK_IMPORTED_MODULE_7___default()(props)) {\n              throw new Error('Invalid props returned from dataBind callback - return value must be plain object: ' + this.wrappedComponentName);\n            } // group props into custom props (data) and custom functions\n\n\n            var _this$_wrapCustomFunc = this._wrapCustomFunctionsAndData(props),\n                functions = _this$_wrapCustomFunc.functions,\n                data = _this$_wrapCustomFunc.data; // assign\n\n\n            this._customProps = data || src_util__WEBPACK_IMPORTED_MODULE_17__[\"EmptyObject\"];\n            Object.assign(this._customFunctions, functions);\n          }\n        } // ################################################\n        // Misc private methods\n        // ################################################\n\n      }, {\n        key: \"_setIsRendering\",\n        value: function _setIsRendering(isRendering) {\n          this._isRendering = isRendering;\n        } // ################################################\n        // Public methods + properties\n        // ################################################\n\n      }, {\n        key: \"getChildContext\",\n        value: function getChildContext() {\n          return Object(_lib_dbdi_react_internals__WEBPACK_IMPORTED_MODULE_21__[\"buildReactContextForDataBind\"])(this.context, this._customContext);\n        }\n      }, {\n        key: \"UNSAFE_componentWillUpdate\",\n        value: function UNSAFE_componentWillUpdate() {\n          this._prepareInjectedProps();\n        }\n      }, {\n        key: \"shouldComponentUpdate\",\n        value: function shouldComponentUpdate(nextProps, nextState) {\n          // TODO: fix context handling (https://github.com/facebook/react/issues/2517)\n          //return this.shouldUpdate;\n          // const should = !shallowEqual(nextProps, this.props) || !shallowEqual(nextState, this.state);\n          // if (!should) {\n          //   window.updateCount = (window.updateCount || 0) + 1;\n          // }\n          return true;\n        }\n      }, {\n        key: \"UNSAFE_componentWillMount\",\n        value: function UNSAFE_componentWillMount() {\n          //console.log('dataBind.componentWillMount');\n          var newContext = this.props.setContext;\n\n          if (newContext) {\n            this._customFunctions.setContext(newContext);\n          }\n\n          this._prepareInjectedProps();\n\n          this.forceUpdate();\n        }\n      }, {\n        key: \"componentDidMount\",\n        value: function componentDidMount() {\n          //console.log('dataBind.componentDidMount');\n          this._alreadyRefreshing = false;\n          this._isMounted = true;\n        }\n      }, {\n        key: \"componentWillUnmount\",\n        value: function componentWillUnmount() {\n          //console.warn('componentWillUnmount @', this.wrappedComponentName);\n          this._isMounted = false;\n\n          this._dataAccessTracker.unmount();\n\n          this._customChildContext = {}; // reset context\n        }\n      }, {\n        key: \"_onNewData\",\n        value: function _onNewData(query) {\n          var _this6 = this;\n\n          // const {\n          //   localPath,\n          //   queryInput\n          // } = query;\n          //console.warn(WrappedComponent.name || '<unnamed component>', 'onNewData', localPath, val);\n          //this.forceUpdate();\n          if (!this._alreadyRefreshing && this._isMounted) {\n            //if (!this._isRendering) {\n            this._alreadyRefreshing = true;\n            setTimeout(function () {\n              _this6._alreadyRefreshing = false;\n\n              if (_this6._isMounted) {\n                //console.warn('setState @', this.wrappedComponentName);\n                _this6.setState(src_util__WEBPACK_IMPORTED_MODULE_17__[\"EmptyObject\"]);\n              }\n            });\n          } // else {\n          //   // new data could be triggered by render method → make sure, that that is taken care of\n          //   throw new Error('NYI: state updates during render');\n          //   // setTimeout(() => {\n          //   //   this.setState({});\n          //   // });\n          // }\n\n        }\n      }, {\n        key: \"wrappedComponentName\",\n        get: function get() {\n          return _WrappedComponent.name || '<unnamed component>';\n        }\n      }]);\n\n      return DataBindComponent;\n    }(react__WEBPACK_IMPORTED_MODULE_19__[\"Component\"]); // override class name (miraculously, it works equally for functional and stateful components!)\n    // see https://stackoverflow.com/questions/33605775/es6-dynamic-class-names/46132163#46132163\n\n\n    _defineProperty(DataBindComponent, \"contextTypes\", _lib_dbdi_react_internals__WEBPACK_IMPORTED_MODULE_21__[\"dataBindContextStructure\"]);\n\n    _defineProperty(DataBindComponent, \"childContextTypes\", _lib_dbdi_react_internals__WEBPACK_IMPORTED_MODULE_21__[\"dataBindChildContextStructure\"]);\n\n    _defineProperty(DataBindComponent, \"propTypes\", {\n      setContext: prop_types__WEBPACK_IMPORTED_MODULE_20___default.a.object\n    });\n\n    Object.defineProperty(DataBindComponent, 'name', {\n      value: _WrappedComponent.name + '_dataBind'\n    });\n    return DataBindComponent;\n  };\n});\n\n//# sourceURL=webpack://dbdi/./react/dataBind.js?");

/***/ }),

/***/ "./react/index.js":
/*!************************!*\
  !*** ./react/index.js ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("//export * from './dataBind';\n\n//# sourceURL=webpack://dbdi/./react/index.js?");

/***/ }),

/***/ "./react/lib/dbdi-react-internals.js":
/*!*******************************************!*\
  !*** ./react/lib/dbdi-react-internals.js ***!
  \*******************************************/
/*! exports provided: dataBindContextStructure, dataBindRootChildContextStructure, dataBindChildContextStructure, getDataSourceTreeFromReactContext, getCustomContextFromReactContext, buildReactContextFromDataSourceTree, buildReactContextForDataBind */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"dataBindContextStructure\", function() { return dataBindContextStructure; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"dataBindRootChildContextStructure\", function() { return dataBindRootChildContextStructure; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"dataBindChildContextStructure\", function() { return dataBindChildContextStructure; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getDataSourceTreeFromReactContext\", function() { return getDataSourceTreeFromReactContext; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getCustomContextFromReactContext\", function() { return getCustomContextFromReactContext; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"buildReactContextFromDataSourceTree\", function() { return buildReactContextFromDataSourceTree; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"buildReactContextForDataBind\", function() { return buildReactContextForDataBind; });\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! prop-types */ \"../node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var lodash_merge__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/merge */ \"../node_modules/lodash/merge.js\");\n/* harmony import */ var lodash_merge__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_merge__WEBPACK_IMPORTED_MODULE_1__);\nvar _PropTypes$shape, _PropTypes$shape3;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\nvar dataBindNamespace = '_dbdi_';\nvar dataBindCustomContextName = '_customContext';\nvar dataSourceTreeName = '_dataSource';\nvar dataBindContextStructure = _defineProperty({}, dataBindNamespace, prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.shape((_PropTypes$shape = {}, _defineProperty(_PropTypes$shape, dataSourceTreeName, prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.object.isRequired), _defineProperty(_PropTypes$shape, dataBindCustomContextName, prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.object), _PropTypes$shape)));\nvar dataBindRootChildContextStructure = _defineProperty({}, dataBindNamespace, prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.shape(_defineProperty({}, dataSourceTreeName, prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.object.isRequired)));\nvar dataBindChildContextStructure = _defineProperty({}, dataBindNamespace, prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.shape((_PropTypes$shape3 = {}, _defineProperty(_PropTypes$shape3, dataSourceTreeName, prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.object.isRequired), _defineProperty(_PropTypes$shape3, dataBindCustomContextName, prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.object), _PropTypes$shape3)));\n\nfunction _getDataBindContextScope(context) {\n  return context[dataBindNamespace];\n}\n\nfunction getDataSourceTreeFromReactContext(context) {\n  var scope = _getDataBindContextScope(context);\n\n  return scope && scope[dataSourceTreeName];\n}\nfunction getCustomContextFromReactContext(context) {\n  var scope = _getDataBindContextScope(context);\n\n  return scope && scope[dataBindCustomContextName];\n}\nfunction buildReactContextFromDataSourceTree(dataSourceTree, context) {\n  var _dataBindNamespace;\n\n  var origCustomContext = getCustomContextFromReactContext(context);\n  return Object.assign({}, _defineProperty({}, dataBindNamespace, (_dataBindNamespace = {}, _defineProperty(_dataBindNamespace, dataSourceTreeName, dataSourceTree), _defineProperty(_dataBindNamespace, dataBindCustomContextName, origCustomContext), _dataBindNamespace)));\n}\nfunction buildReactContextForDataBind(context, customContext) {\n  var _dataBindNamespace2;\n\n  //const origCustomContext = getCustomContextFromReactContext(context);\n  var dataSourceTree = getDataSourceTreeFromReactContext(context);\n  return Object.assign({}, _defineProperty({}, dataBindNamespace, (_dataBindNamespace2 = {}, _defineProperty(_dataBindNamespace2, dataSourceTreeName, dataSourceTree), _defineProperty(_dataBindNamespace2, dataBindCustomContextName, customContext), _dataBindNamespace2)));\n}\n\n//# sourceURL=webpack://dbdi/./react/lib/dbdi-react-internals.js?");

/***/ }),

/***/ "./react/react-util.js":
/*!*****************************!*\
  !*** ./react/react-util.js ***!
  \*****************************/
/*! exports provided: injectRenderArgs */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"injectRenderArgs\", function() { return injectRenderArgs; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var lodash_isFunction__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/isFunction */ \"../node_modules/lodash/isFunction.js\");\n/* harmony import */ var lodash_isFunction__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_isFunction__WEBPACK_IMPORTED_MODULE_1__);\n// import React, { Component, Children } from 'react';\n// import isFunction from 'lodash/isFunction';\n// export function injectIntoClass(Comp, methodName, methodWrapper) {\n//   class InjectedComp extends Comp {\n//     constructor(...args) {\n//       super(...args);\n//     }\n//   }\n//   Object.defineProperty(InjectedComp, 'name', { value: Comp.name + '_' + methodName + '_injected' });\n//   // Object.defineProperty(InjectedComp.prototype, methodName,\n//   //   {\n//   //     value: methodWrapper(Comp.prototype[methodName])\n//   //   }\n//   // );\n//   //Object.assign(InjectedComp.prototype, Comp.prototype);\n//   InjectedComp.prototype[methodName] = methodWrapper(Comp.prototype[methodName]);\n//   return InjectedComp;\n// }\n// /**\n//  * Note: This function behaves differently for stateful and stateless components.\n//  * For stateless functions, pay attention to account for props and context \n//  * in the `argsOrFunc` definition.\n//  * \n//  * @see https://codepen.io/Domiii/pen/XejwKy?editors=0010\n//  * \n//  * @param {*} Comp \n//  * @param {*} argsOrFunc \n//  * @returns {Function} The modified component\n//  */\n// export function injectRenderArgs(Comp, argsOrFunc) {\n//   const isComponent = Comp && Comp.prototype instanceof Component;\n//   // there is no good working heuristic to figure out if it's a function representing a component :(\n//   const isComponentFunction = isFunction(Comp);\n//   if (!isComponentFunction && !isComponent) {\n//     throw new Error('Tried to decorate object that is neither pure function nor component: ' + Comp);\n//   }\n//   function renderWrapper(origRender) {\n//     return function __wrappedRender(...origArgs) {\n//       const props = this && this.props || origArgs[0];\n//       const context = this && this.context || origArgs[1];\n//       const newArgs = isFunction(argsOrFunc) ? argsOrFunc(props, context) : argsOrFunc;\n//       //console.log('wrapped render: ' + props.name + `(${JSON.stringify(origArgs)}) → (${JSON.stringify(newArgs)})`);\n//       return origRender.call(this, ...newArgs, ...origArgs);\n//     };\n//   }\n//   let ResultComp;\n//   if (isComponent) {\n//     // override render method\n//     ResultComp = injectIntoClass(Comp, 'render', renderWrapper);\n//   }\n//   else {\n//     // just wrap the function as-is\n//     ResultComp = renderWrapper(Comp);\n//   }\n//   return ResultComp;\n// }\n\n\n/**\n * Note: This function behaves differently for stateful and stateless components.\n * For stateless functions, pay attention to account for props and context \n * in the `argsOrFunc` definition.\n * \n * @see https://codepen.io/Domiii/pen/XejwKy?editors=0010\n * \n * @param {*} Comp \n * @param {*} injectedArgs \n * @returns {Function} The modified component\n */\n\nfunction injectRenderArgs(Comp, injectedArgs) {\n  // there is no good working heuristic to figure out if it's a function representing a component :(\n  var isComponent = Comp && Comp.prototype instanceof react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"];\n  var isComponentFunction = lodash_isFunction__WEBPACK_IMPORTED_MODULE_1___default()(Comp);\n\n  if (!isComponentFunction && !isComponent) {\n    throw new Error('Tried to decorate object that is neither pure function nor component: ' + Comp);\n  }\n\n  var ResultComp;\n\n  if (isComponent) {\n    // override render method\n    //ResultComp = injectIntoClass(Comp, 'render', renderWrapper);\n    wrapStatefulRender(Comp, injectedArgs);\n    ResultComp = Comp;\n  } else {\n    // just wrap the function as-is\n    ResultComp = wrapFunctionalComponent(Comp, injectedArgs);\n  }\n\n  return ResultComp;\n}\n\n//# sourceURL=webpack://dbdi/./react/react-util.js?");

/***/ }),

/***/ 3:
/*!****************************************************************************************************************************!*\
  !*** multi ./react/components.js ./react/dataBind.js ./react/DataSourceProvider.js ./react/index.js ./react/react-util.js ***!
  \****************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("__webpack_require__(/*! /Users/domi/code/dbdi/src/react/components.js */\"./react/components.js\");\n__webpack_require__(/*! /Users/domi/code/dbdi/src/react/dataBind.js */\"./react/dataBind.js\");\n__webpack_require__(/*! /Users/domi/code/dbdi/src/react/DataSourceProvider.js */\"./react/DataSourceProvider.js\");\n__webpack_require__(/*! /Users/domi/code/dbdi/src/react/index.js */\"./react/index.js\");\nmodule.exports = __webpack_require__(/*! /Users/domi/code/dbdi/src/react/react-util.js */\"./react/react-util.js\");\n\n\n//# sourceURL=webpack://dbdi/multi_./react/components.js_./react/dataBind.js_./react/DataSourceProvider.js_./react/index.js_./react/react-util.js?");

/***/ })

/******/ });
});